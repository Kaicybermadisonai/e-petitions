@use "../settings" as *;
@use "../helpers" as *;

.petition-item {
  h2 {
    @include font-size(27);
    @include responsive-margin(3, bottom);
  }

  p {
    @include font-size(20);
    @include responsive-margin(2, top);
    @include responsive-margin(2, bottom);
  }
}

.petition-share {
  display: flex;
  gap: spacing(2);
  flex-wrap: wrap;

  li {
    display: block;
    min-width: fit-content;
  }

  a.button {
    @include font-size(20);

    display: flex;
    align-items: center;
    padding: spacing(3);
  }

  svg {
    width: 24px;
    height: 24px;
    margin-right: spacing(2);
  }

}

.pagination {
  @include font-size(22);
  @include responsive-margin(8, bottom);
}

.tag {
  @include font-size(22);

  border-radius: $button-border-radius;
  display: inline-block;
  font-weight: normal !important;
  margin: 0 0 spacing(3) 0;
  padding: spacing(2) spacing(3);
}

.tag-grey {
  background-color: $colour-grey-5;
  color: $colour-grey-2;
}

.tag-red {
  background-color: $colour-error-light;
  color: $colour-error-dark;
}

.tag-green {
  background-color: #CCE2D8;
  color: #005A30;
}

#signature-count {
  @include responsive-margin(6, top);

  .signature-count-number {
    @include font-size(33);

    color: $theme-colour;
    font-weight: bold;
  }

  .signature-count-progress {
    display: block;
    margin: 0;
    padding: 0;

    progress[value] {
      -moz-appearance: none;
      -webkit-appearance: none;
      appearance: none;
      display: block;

      height: 25px;
      width: 100%;

      border: none;

      &::-moz-progress-bar {
        background-color: $colour-blue;
      }

      &::-webkit-progress-bar {
        background-color: $colour-grey-4;
      }

      &::-webkit-progress-value {
        background-color: $colour-blue;
      }

      &::-webkit-progress-inner-element {
        background-color: $colour-grey-4;
        border: none;
      }
    }
  }

  .signature-count-progress-footer {
    @include responsive-margin(3, top);

    display: flex;
    justify-content: space-between;
  }
}

#search-filter {
  margin-bottom: spacing(7);

  @include media-query($from: laptop) {
    border: 1px solid $border-colour;
    border-radius: $button-border-radius;
  }

  form {
    @include responsive-margin(6, bottom);

    @include media-query($from: laptop) {
      @include responsive-margin(4, all);
      @include responsive-margin(3, top);
    }

    .search-field {
      display: flex;
    }

    input[type=text] {
      border-radius: $button-border-radius 0 0 $button-border-radius;
    }

    button {
      flex: 0 0 $input-height-small;
      width: $input-height-small;
      height: $input-height-small;
      padding: 0;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 0 $button-border-radius $button-border-radius 0;

      @include media-query($from: tablet) {
        flex: 0 0 $input-height;
        width: $input-height;
        height: $input-height;
      }

      svg {
        display: inline-block;
        width: 20px;
        height: 20px;

        @include media-query($from: tablet) {
          width: 24px;
          height: 24px;
        }
      }
    }
  }

  nav {
    border-bottom: 1px solid $border-colour;
    @include responsive-margin(5, top);

    @include media-query($from: laptop) {
      @include responsive-padding(4, all);
      border-bottom: none;
    }

    padding-top: 0 !important;

    & > div {
      @include media-query($until: laptop) {
        @include responsive-margin(5, bottom);
      }
    }

    & > button {
      background-color: transparent;
      border: none;
      color: $text-colour;
      cursor: pointer;
      padding: spacing(2) 0;
      margin: spacing(2) 0;
      font-weight: bold;
      text-align: left;
      width: 100%;

      display: flex;
      align-items: center;
      justify-content: space-between;

      @include media-query($from: laptop) {
        display: none;
      }

      &:focus-visible {
        @extend %focused-text;
      }

      &[aria-expanded=true] {
        svg {
          transform: rotate(180deg);
        }

        & + div {
          display: block;
        }
      }

      &[aria-expanded=false]:not([hidden]) {
        svg {
          transform: rotate(0deg);
        }

        & + div {
          display: none;
        }
      }

      @include media-query($from: laptop) {
        &[hidden] + div {
          display: block;
        }
      }
    }
  }

  ul {
    @include responsive-padding(4, top);
    @include responsive-margin(5, bottom);

    border-top: 1px solid $border-colour;
  }

  li {
    @include font-size(20);
    @include responsive-margin(3, top);

    &:first-child {
      margin-top: 0;
    }
  }
}
